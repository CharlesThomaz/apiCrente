<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="devocional-data.js"></script>
    <script>
        // Função para retornar JSON puro
        function returnJSON(data) {
            document.body.innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            document.body.style.fontFamily = 'monospace';
            document.body.style.padding = '20px';
            document.body.style.backgroundColor = '#1a1a1a';
            document.body.style.color = '#00ff00';
            document.body.style.margin = '0';
        }

        // Processar parâmetros da URL
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const endpoint = urlParams.get('endpoint');
            const date = urlParams.get('date');
            
            let result;
            
            switch(endpoint) {
                case 'today':
                    result = DevocionalAPI.getToday();
                    break;
                case 'date':
                    if (date) {
                        result = DevocionalAPI.getByDate(date);
                    } else {
                        result = { error: "Parâmetro 'date' é obrigatório para este endpoint" };
                    }
                    break;
                case 'random':
                    result = DevocionalAPI.getRandom();
                    break;
                case 'all':
                    result = DevocionalAPI.getAll();
                    break;
                default:
                    result = {
                        error: "Endpoint não encontrado",
                        endpoints_disponiveis: [
                            "?endpoint=today",
                            "?endpoint=date&date=YYYY-MM-DD",
                            "?endpoint=random",
                            "?endpoint=all"
                        ]
                    };
            }
            
            returnJSON(result);
        };
    </script>
</head>
<body>
    Carregando...
</body>
</html>

